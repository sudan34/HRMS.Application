@model HRMS.Application.Models.Employee

@{
    ViewData["Title"] = "Deactivate Employee";
}

<div class="container py-4">
    <h2 class="text-danger">Deactivate Employee</h2>
    <hr />

    <div class="alert alert-warning">
        <h5>Are you sure you want to deactivate this employee?</h5>
        <p class="mb-0">This will set their status to inactive and record today's date as their resignation date.</p>
    </div>

    <div class="card mb-4">
        <div class="card-body">
            <dl class="row">
                <dt class="col-sm-3">Employee ID</dt>
                <dd class="col-sm-9">@Model.EmployeeId</dd>

                <dt class="col-sm-3">Full Name</dt>
                <dd class="col-sm-9">@Model.FullName</dd>

                <dt class="col-sm-3">Department</dt>
                <dd class="col-sm-9">@Model.Department?.Name</dd>

                <dt class="col-sm-3">Join Date</dt>
                <dd class="col-sm-9">@Model.JoinDate.ToString("yyyy-MM-dd")</dd>

                <dt class="col-sm-3">Current Status</dt>
                <dd class="col-sm-9">
                    <span class="badge @(Model.IsActive ? "bg-success" : "bg-secondary")">
                        @(Model.IsActive ? "Active" : "Inactive")
                    </span>
                </dd>
            </dl>
        </div>
    </div>

    <form asp-action="Delete" method="post">
        <input type="hidden" asp-for="Id" />
        <div class="form-group">
            <label for="resignationNotes" class="form-label">Resignation Notes (Optional)</label>
            <textarea class="form-control" id="resignationNotes" name="resignationNotes" rows="3"></textarea>
        </div>

        <div class="mt-3">
            <button type="submit" class="btn btn-danger">
                <i class="bi bi-person-x"></i> Confirm Deactivation
            </button>
            <a asp-action="Index" class="btn btn-outline-secondary">Cancel</a>
        </div>
    </form>
</div>